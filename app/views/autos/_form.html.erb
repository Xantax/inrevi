<%= form_for @auto, validate: true, html: {multipart: true}, 'data-update-target' => 'comments', class: 'comments' do |f| %>
  <% if @auto.errors.any? %>
    <div id="error_explanation">
      <ul>
      <% @auto.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>   

    <%= f.label :name %><br>
    <%= f.text_field :name, :placeholder => "Tesla S" , :class => "form-control autotitle" %><br><br>

    <b>Additional Info</b><br>
<%= f.text_area :additionalinfo, :placeholder => "Horsepower, Engine etc (write each feature in a new line)",
    :class => "form-control autocontent" %>
    <br><br>

    <b>Type:</b> <%= f.select :category, [ 'car', 'motorcycle', 'bicycle', 'other' ] %><br><br>

    <%= image_tag("othericons/PhotoShow.PNG") %>
    <%= f.file_field :image, :placeholder => "e.g. https://imgur.com/Iks3rd" , :class => "podcastnew" %><br><br>

    <%= submit_tag 'Submit', :class => 'btn btn-default', :id => "submit" %> <br>

      <div id="loading2" class="loadinggif" style="display:none;">
          <%= image_tag("othericons/uploading.gif", alt: "") %><br>
          Uploading...
      </div>

<% end %>

<script type="text/javascript">
(function (d) {
  d.getElementById('new_auto').onsubmit = function () {
    d.getElementById('submit').style.display = 'block';
    d.getElementById('loading2').style.display = 'block';
  };
}(document));
</script>